// 修改版的 togglePanel 方法
    private togglePanel(panel: any): void {
        console.log('UIScene.togglePanel 呼叫, 面板可見性:', panel.visible);
        if (panel.visible) {
            panel.hide();
            console.log(`面板已隱藏，可見性現在為: ${panel.visible}`);
        } else {
            // 先隱藏所有面板
            this.hideAllPanels();
            
            // 顯示指定面板
            panel.show();
            
            // 確保面板在最上層
            this.children.bringToTop(panel);
            
            // 檢查面板可見性是否已更新
            console.log(`面板已顯示，可見性現在為: ${panel.visible}，位置: (${panel.x}, ${panel.y})`);
            
            // 如果面板有深度屬性，確保它設置為高值
            if (panel.setDepth) {
                panel.setDepth(1000);
                console.log(`面板深度已設置為 1000`);
            }
            
            // 嘗試強制刷新面板
            this.time.delayedCall(100, () => {
                console.log(`延遲 100ms 後檢查面板狀態: 可見性=${panel.visible}`);
                if (panel.visible) {
                    // 再次確保面板在最上層
                    this.children.bringToTop(panel);
                }
            });
        }
        console.log('UIScene.togglePanel 切換後, 面板可見性:', panel.visible);
    }
